"use strict";(self.webpackChunktest_task=self.webpackChunktest_task||[]).push([[759],{88:(e,t,i)=>{i.d(t,{A:()=>s});i(43);var n=i(475),l=i(579);const s=e=>{let{to:t,className:i,activeClassName:s,children:d}=e;return(0,l.jsx)(n.k2,{to:t,className:e=>{let{isActive:t}=e;return`${i||"p-4 m-2 bg-slate-400 rounded"} ${t?s:"text-white hover:text-black"}`},children:d})}},759:(e,t,i)=>{i.r(t),i.d(t,{default:()=>r});var n=i(43),l=i(840),s=i(446),d=i.n(s);const o=[{id:1,content:"Block 1",x:50,y:50,width:300,height:100,zIndex:1},{id:2,content:"Block 2",x:400,y:50,width:300,height:100,zIndex:2},{id:3,content:"Block 3",x:750,y:50,width:300,height:100,zIndex:3},{id:4,content:"Block 4",x:50,y:300,width:300,height:100,zIndex:4},{id:5,content:"Block 5",x:400,y:300,width:300,height:100,zIndex:5}];var a=i(579);const h=()=>{const[e,t]=(0,n.useState)([]),[i,s]=(0,n.useState)([]),[h,c]=(0,n.useState)(5),[r,g]=(0,n.useState)(null),[x,u]=(0,n.useState)(new Map);(0,n.useEffect)((()=>{const e=localStorage.getItem("blocks"),i=localStorage.getItem("deletedBlocks");if(e){const i=JSON.parse(e);i.length>0?t(i):p()}else p();i&&s(JSON.parse(i));const n=e?Math.max(...JSON.parse(e).map((e=>e.zIndex))):5;c(n)}),[]);const p=()=>{t(o),localStorage.setItem("blocks",JSON.stringify(o))},w=(0,n.useCallback)(d()((e=>{localStorage.setItem("blocks",JSON.stringify(e)),console.log("Blocks saved to localStorage:",e)}),1e3),[]);(0,n.useEffect)((()=>{e.length>0&&w(e),i.length>0&&(localStorage.setItem("deletedBlocks",JSON.stringify(i)),console.log("Deleted blocks updated in localStorage:",i))}),[e,i,w]);const b=(i,n)=>{t(e.map((e=>e.id===i?{...e,x:Math.max(0,Math.min(n.x,window.innerWidth-e.width)),y:Math.max(0,Math.min(n.y,window.innerHeight-e.height))}:e)))};return(0,a.jsxs)("div",{children:[i.length>0&&(0,a.jsx)("button",{onClick:()=>{if(i.length>0){const n=i.pop();n&&(t([...e,{...n,width:300,height:100,x:window.innerWidth/2-150,y:window.innerHeight/2-50,zIndex:h+1}]),c(h+1))}},className:"bg-blue-500 text-white px-4 py-2 rounded hover:bg-blue-600",children:"\u0412\u0456\u0434\u043d\u043e\u0432\u0438\u0442\u0438 \u0432\u0438\u0434\u0430\u043b\u0435\u043d\u0438\u0439 \u0431\u043b\u043e\u043a"}),(0,a.jsx)("div",{className:"relative w-full h-full border border-black",children:e.map((n=>(0,a.jsx)(l.p,{size:{width:n.width,height:n.height},position:{x:n.x,y:n.y},onMouseDown:()=>{return i=n.id,g(i),void u((n=>{const l=e.find((e=>e.id===i)),s=h+1;return l?(t(e.map((e=>e.id===i?{...e,zIndex:s}:e))),c(s),new Map(n).set(i,l.zIndex)):n}));var i},enableResizing:!0,onDragStop:(e,t)=>b(n.id,{x:t.x,y:t.y}),onResizeStop:(i,l,s,d,o)=>{var a,h;b(n.id,o),a=n.id,h={width:parseInt(s.style.width,10),height:parseInt(s.style.height,10)},t(e.map((e=>e.id===a?{...e,width:h.width,height:h.height}:e)))},onMouseUp:()=>{var i;r===n.id&&(i=n.id,t(e.map((e=>e.id===i?{...e,zIndex:x.get(i)||1}:e))),g(null))},className:"relative bg-slate-600",style:{zIndex:n.zIndex},children:(0,a.jsxs)("div",{className:"w-full h-full bg-light-gray border border-black relative",children:[n.content,(0,a.jsx)("button",{onClick:()=>(n=>{const l=e.find((e=>e.id===n));l&&(s([...i,l]),t(e.filter((e=>e.id!==n))))})(n.id),className:"absolute top-2 right-2 bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600",children:"X"})]})},n.id)))})]})};var c=i(88);const r=function(){return(0,a.jsxs)("div",{className:"flex gap-2 flex-col",children:[(0,a.jsx)(c.A,{to:"/",children:"\u041f\u0435\u0440\u0435\u0439\u0442\u0438 \u043d\u0430\u0437\u0430\u0434"}),(0,a.jsx)(h,{})]})}}}]);
//# sourceMappingURL=759.a06d0194.chunk.js.map